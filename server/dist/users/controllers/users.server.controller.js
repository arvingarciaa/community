'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _mongoose=require('mongoose'),_mongoose2=_interopRequireDefault(_mongoose);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var User=_mongoose2.default.model('User'),userControls={listOne:function listOne(a,b){var c=a.params.userID;User.findOne({_id:c},function(d,e){if(d)return d;return null===e?b.status(404).send('User not found!'):void b.send({user:e})})},list:function list(a,b){User.find(function(c,d){return c?c:void b.send({users:d})})},listByGroup:function listByGroup(a,b){User.find({groupsJoined:a.params.groupHandle},function(c,d){return c?c:void b.send({users:d})})},listByGroupAdminstrators:function listByGroupAdminstrators(a,b){var c=a.params.groupAdminsID.split(',');User.find({_id:{$in:c}},function(d,e){return d?d:void b.send({users:e})})},listByGroupPendingMembers:function listByGroupPendingMembers(a,b){var c=a.params.groupPendingMembersID.split(',');User.find({_id:{$in:c}},function(d,e){return d?d:void b.send({users:e})})},updateOne:function updateOne(a,b){var c=a.params.userID;User.findOneAndUpdate({_id:c},{$set:a.body},function(d){return d?d:void b.send('User updated.')})},joinGroup:function joinGroup(a,b){var c=a.params.userID,d=a.params.groupHandle;User.findOneAndUpdate({_id:c},{$addToSet:{groupsJoined:d}},function(e){return e?e:void b.send('User joined a group.')})},leaveGroup:function leaveGroup(a,b){var c=a.params.userID,d=a.params.groupHandle;User.findOneAndUpdate({_id:c},{$pull:{groupsJoined:d}},function(e){return e?e:void b.send('User left a group.')})}};exports.default=userControls;
//# sourceMappingURL=users.server.controller.js.map