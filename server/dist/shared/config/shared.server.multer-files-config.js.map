{"version":3,"sources":["../../../src/shared/config/shared.server.multer-files-config.js"],"names":["storage","diskStorage","destination","cb","filename","file","originalname","replace","Date","now","split","length","fileUpload","limits","fileSize","single"],"mappings":"oEAAA,uE,wEAEA,GAAMA,SAAU,iBAAOC,WAAP,CAAmB,CAC/BC,YAAa,2BAAmB,CAC5BC,EAAG,IAAH,CAAS,YAAT,CACH,CAH8B,CAI/BC,SAAU,wBAAwB,CAC9BD,EAAG,IAAH,CAASE,EAAKC,YAAL,CAAkBC,OAAlB,CAA0B,WAA1B,CAAuC,EAAvC,EAA6C,GAA7C,CAAmDC,KAAKC,GAAL,EAAnD,CAAgE,GAAhE,CAAsEJ,EAAKC,YAAL,CAAkBI,KAAlB,CAAwB,GAAxB,EAA6BL,EAAKC,YAAL,CAAkBI,KAAlB,CAAwB,GAAxB,EAA6BC,MAA7B,CAAqC,CAAlE,CAA/E,CACH,CAN8B,CAAnB,CAAhB,CASMC,WAAa,qBAAO,CACrBZ,eADqB,CAErBa,OAAQ,CAAEC,YAAF,CAFa,CAAP,EAGfC,MAHe,CAGR,mBAHQ,CATnB,C,gBAeeH,U","file":"shared.server.multer-files-config.js","sourcesContent":["import multer from 'multer';\n\nconst storage = multer.diskStorage({\n    destination: (req, file, cb) => {\n        cb(null, './uploads/');\n    },\n    filename: function(req, file, cb) {\t// add -(timestamp).(file extension) to filename\n        cb(null, file.originalname.replace(/\\.[^/.]+$/, \"\") + '-' + Date.now() + '.' + file.originalname.split('.')[file.originalname.split('.').length -1]);\n    }\n});\n\nconst fileUpload = multer({\n    \tstorage,\n    \tlimits: { fileSize: 20000000 } /* max 20mb per file */\n\t}).single('sharedUploadFiles');\n\n\nexport default fileUpload;"]}